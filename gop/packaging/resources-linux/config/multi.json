{
  "setting": {
    "timeInterval": 1000,
    "consolePrint": true,
    "pageSize": "10",
    "retention": "2",
    "printCSV": false,
    "fileLog": {
      "enable": true,
      "logPath": "/var/lib/gop/"
    },
    "api": {
      "enable": true,
      "port": 18080,
      "threadPoolSize": 4,
      "logPath": "/var/log/gop/api.log"
    }
  },
  "sources": [
    {
      "source": "mysql-local",
      "jdbcSource": {
        "url": "jdbc:mysql://127.0.0.1:3306/",
        "dbName": "gop",
        "driverClass": "com.mysql.cj.jdbc.Driver",
        "jdbcProperties": [
          {
            "name": "user",
            "value": "gop"
          },
          {
            "name": "password",
            "value": "gop"
          },
          {
            "name": "serverTimezone",
            "value": "UTC"
          },
          {
            "name": "useSSL",
            "value": "false"
          }
        ]
      },
      "measure": [
        {
          "name": "threads_connected",
          "diff": false,
          "sql": "select variable_value from performance_schema.global_status where variable_name = 'Threads_connected'",
          "tag": "mysql",
          "alertValue": 100,
          "alertPolicy": 1
        },
        {
          "name": "threads_running",
          "diff": false,
          "sql": "select variable_value from performance_schema.global_status where variable_name = 'Threads_running'",
          "tag": "mysql"
        },
        {
          "name": "connections",
          "diff": true,
          "sql": "select variable_value from performance_schema.global_status where variable_name = 'Connections'",
          "tag": "mysql"
        }
      ]
    },
    {
      "source": "postgres-local",
      "jdbcSource": {
        "url": "jdbc:postgresql://127.0.0.1:5432/",
        "dbName": "gop",
        "driverClass": "org.postgresql.Driver",
        "jdbcProperties": [
          {
            "name": "user",
            "value": "gop"
          },
          {
            "name": "password",
            "value": "gop"
          },
          {
            "name": "ssl",
            "value": "false"
          }
        ]
      },
      "measure": [
        {
          "name": "connections",
          "diff": false,
          "sql": "select count(*) from pg_stat_activity",
          "tag": "postgres",
          "alertValue": 200,
          "alertPolicy": 1
        },
        {
          "name": "xact_commit",
          "diff": true,
          "sql": "select sum(xact_commit) from pg_stat_database",
          "tag": "postgres"
        },
        {
          "name": "xact_rollback",
          "diff": true,
          "sql": "select sum(xact_rollback) from pg_stat_database",
          "tag": "postgres"
        }
      ]
    }
  ]
}
